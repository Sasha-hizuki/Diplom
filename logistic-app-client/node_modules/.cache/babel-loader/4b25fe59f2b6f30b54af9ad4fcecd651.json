{"remainingRequest":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\src\\views\\Login.vue","mtime":1611580929000},{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678708696770},{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\babel-loader\\lib\\index.js","mtime":1678708698293},{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678708696770},{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\vue-loader\\lib\\index.js","mtime":1678708698721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzUxMkRlbGwvT25lRHJpdmUvXHUwNDIwXHUwNDMwXHUwNDMxXHUwNDNFXHUwNDQ3XHUwNDM4XHUwNDM5IFx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzQi9Mb2dpc3RpYy1tYWluL2xvZ2lzdGljLWFwcC1jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW06IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5pdGVtLnBhc3N3b3JkLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMS9hcGkvdG9rZW4vJywgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoX3RoaXMuaXRlbSksCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7CiAgICAgICAgICAgICAgICAgIGlmIChqc29uLmFjY2Vzc190b2tlbikgewogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd3QnLCBqc29uLmFjY2Vzc190b2tlbik7CgogICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JykgIT09ICdudWxsJyB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JykgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9vcmRlcnMnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoItCd0LXQstC10YDQvdGL0LUg0LTQsNC90L3Ri9C1Iik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AAAA,QAAA,IAAA,EAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,KAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEA,KAAA,CAAA,mCAAA,EACA;AACA,kBAAA,MAAA,EAAA,MADA;AAEA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CAFA;AAGA,kBAAA,OAAA,EAAA;AACA,oCAAA;AADA;AAHA,iBADA,CAAA,CAQA,IARA,CAQA,UAAA,QAAA;AAAA,yBAAA,QAAA,CAAA,IAAA,EAAA;AAAA,iBARA,EASA,IATA,CASA,UAAA,IAAA,EAAA;AACA,sBAAA,IAAA,CAAA,YAAA,EAAA;AACA,oBAAA,YAAA,CAAA,OAAA,CAAA,KAAA,EAAA,IAAA,CAAA,YAAA;;AACA,wBAAA,YAAA,CAAA,OAAA,CAAA,KAAA,MAAA,MAAA,IAAA,YAAA,CAAA,OAAA,CAAA,KAAA,MAAA,EAAA,EAAA;AACA,sBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA;AACA,mBALA,MAMA;AACA,oBAAA,KAAA,CAAA,iBAAA,CAAA;AACA;AACA,iBAnBA,EAoBA,KApBA,CAoBA,UAAA,KAAA,EAAA;AACA,kBAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AACA,iBAtBA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BA;AA3BA;AANA,CAAA","sourcesContent":["<template>\n    <div>\n        <h1>Вход</h1>\n        <form class=\"modal__form\">            \n            <div class=\"form-row\">\n                <div class=\"col form-group\">\n                    <label for=\"login\" >Логин</label>\n                    <input class=\"form-control\" id=\"login\" type=\"email\" v-model=\"item.name\" required autofocus>\n                </div>\n            </div>\n            <div class=\"form-row\">\n                <div class=\"col form-group\">\n                    <label for=\"password\" >Пароль</label>\n                    <input class=\"form-control\" id=\"password\" type=\"password\" v-model=\"item.password\" required>\n                </div>\n            </div>\n            <div>\n                <button class=\"btn btn-sm btn-secondary new__btn\" type=\"submit\" v-on:click.prevent=\"handleSubmit\">Войти</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\n  export default {\n    data(){\n      return {\n        item:{name : \"\", password : \"\"}      \n      }\n    },\n    methods : {\n      async handleSubmit(){\n        if (this.item.password.length > 0) {\n            await fetch('https://localhost:5001/api/token/', \n            { \n                method: 'POST',\n                body: JSON.stringify(this.item),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            .then(response => response.json())\n            .then(json => {\n                if(json.access_token){\n                    localStorage.setItem('jwt',json.access_token)\n                    if (localStorage.getItem('jwt') !== 'null' || localStorage.getItem('jwt') !== ''){\n                        this.$router.push('/orders')\n                    }\n                }\n                else{\n                    alert(\"Неверные данные\")\n                }   \n            })\n            .catch(function (error) {\n                console.error(error.response);\n            });\n        }\n      }\n    }\n  }\n</script>"],"sourceRoot":"src/views"}]}