{"remainingRequest":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\src\\views\\Login.vue","mtime":1611580929000},{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678708696770},{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\babel-loader\\lib\\index.js","mtime":1678708698293},{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678708696770},{"path":"C:\\Users\\512Dell\\OneDrive\\Рабочий стол\\Logistic-main\\logistic-app-client\\node_modules\\vue-loader\\lib\\index.js","mtime":1678708698721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCl7CiAgICByZXR1cm4gewogICAgICBpdGVtOntuYW1lIDogIiIsIHBhc3N3b3JkIDogIiJ9ICAgICAgCiAgICB9CiAgfSwKICBtZXRob2RzIDogewogICAgYXN5bmMgaGFuZGxlU3VibWl0KCl7CiAgICAgIGlmICh0aGlzLml0ZW0ucGFzc3dvcmQubGVuZ3RoID4gMCkgewogICAgICAgICAgYXdhaXQgZmV0Y2goJ2h0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL3Rva2VuLycsIAogICAgICAgICAgeyAKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLml0ZW0pLAogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAudGhlbihqc29uID0+IHsKICAgICAgICAgICAgICBpZihqc29uLmFjY2Vzc190b2tlbil7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd3QnLGpzb24uYWNjZXNzX3Rva2VuKQogICAgICAgICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpICE9PSAnbnVsbCcgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpICE9PSAnJyl7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL29yZGVycycpCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgYWxlcnQoItCd0LXQstC10YDQvdGL0LUg0LTQsNC90L3Ri9C1IikKICAgICAgICAgICAgICB9ICAgCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IucmVzcG9uc2UpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <h1>Вход</h1>\n        <form class=\"modal__form\">            \n            <div class=\"form-row\">\n                <div class=\"col form-group\">\n                    <label for=\"login\" >Логин</label>\n                    <input class=\"form-control\" id=\"login\" type=\"email\" v-model=\"item.name\" required autofocus>\n                </div>\n            </div>\n            <div class=\"form-row\">\n                <div class=\"col form-group\">\n                    <label for=\"password\" >Пароль</label>\n                    <input class=\"form-control\" id=\"password\" type=\"password\" v-model=\"item.password\" required>\n                </div>\n            </div>\n            <div>\n                <button class=\"btn btn-sm btn-secondary new__btn\" type=\"submit\" v-on:click.prevent=\"handleSubmit\">Войти</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\n  export default {\n    data(){\n      return {\n        item:{name : \"\", password : \"\"}      \n      }\n    },\n    methods : {\n      async handleSubmit(){\n        if (this.item.password.length > 0) {\n            await fetch('https://localhost:5001/api/token/', \n            { \n                method: 'POST',\n                body: JSON.stringify(this.item),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            .then(response => response.json())\n            .then(json => {\n                if(json.access_token){\n                    localStorage.setItem('jwt',json.access_token)\n                    if (localStorage.getItem('jwt') !== 'null' || localStorage.getItem('jwt') !== ''){\n                        this.$router.push('/orders')\n                    }\n                }\n                else{\n                    alert(\"Неверные данные\")\n                }   \n            })\n            .catch(function (error) {\n                console.error(error.response);\n            });\n        }\n      }\n    }\n  }\n</script>"]}]}